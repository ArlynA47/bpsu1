<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../images/hirna-logo.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="../css/output.css">
    <title>HirNa!</title>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="flex justify-between bg-[#232323] py-2.5 px-10 sticky top-0 z-50">
        <div class="flex flex-1 justify-start items-end gap-2 ">
            <img src="../images/hirna-logo.png" alt="HirNa Logo" class="h-10 w-10">
        </div>

        <div class="flex flex-2 justify-between items-center gap-6">
            <a href="./employer-home.html" class="flex-1 text-center text-white hover:text-gray-300">Home</a>
            <a href="./employer-browse-employees.html" class="flex-1 text-center text-white hover:text-gray-300">Browse
                Employees</a>
            <a href="./employer-liked-employees.html" class="flex-1 text-center text-white hover:text-gray-300">Liked
                Employees</a>
            <a href="./employer-job-listings.html" class="flex-1 text-center text-white hover:text-gray-300">Job
                Listings</a>
        </div>

        <div class="flex flex-1 justify-end items-center gap-4">
            <button id="logoutBtn" class="bg-[#B83535] text-white px-4 py-2 rounded hover:bg-[#A72828] cursor-pointer">
                Logout
            </button>
        </div>
    </nav>

    <!-- Your Firebase config and initialization -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCM1QSKbZH9Ih3RHv39nQipYoti8Yrji_M",
            authDomain: "careerstep-bpsu1.firebaseapp.com",
            projectId: "careerstep-bpsu1",
            storageBucket: "careerstep-bpsu1.firebasestorage.app",
            messagingSenderId: "17047315291",
            appId: "1:17047315291:web:dc2c9312e3d5b0ced5307e",
            measurementId: "G-WH6DT9HQW2"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        function highlightCurrentNavLink() {
            const currentPath = window.location.pathname.split('/').pop();
            const navLinks = document.querySelectorAll('nav a');

            navLinks.forEach(link => {
                const linkPath = link.getAttribute('href').split('/').pop();
                if (linkPath === currentPath) {
                    link.classList.add('underline', 'underline-offset-4');
                }
            });
        }

        function setupLogoutButton(buttonSelector = '#logoutBtn') {
            const logoutBtn = document.querySelector(buttonSelector);

            if (!logoutBtn) return;

            logoutBtn.addEventListener('click', async () => {
                try {
                    await signOut(auth);
                    window.location.href = './login.html';
                } catch (error) {
                    console.error('Error logging out:', error);
                    alert('Logout failed. Please try again.');
                }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            highlightCurrentNavLink();
            setupLogoutButton();
        });
    </script>
</body>

</html>